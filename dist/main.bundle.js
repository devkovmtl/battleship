(()=>{"use strict";var e={744:(e,t,n)=>{n.r(t)},997:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(593);t.default=function(e=10,t=10){e<=0&&(e=10),t<=0&&(t=10);let n=(0,r.createArrayOfArray)(e,t),l=[];return{grid:n,placeShipOnGrid:function(e,t,r,o=!0){if(e<0||e>n.length-1)throw new Error("Please provide a valid number to place your ship");if(t<0||t>n.length-1)throw new Error("Please provide a valid number to place your ship");if(!function(e,t,r,l){let o=[];if(e<0)return!1;if(t<0)return!1;if(e>n.length-1)return!1;if(t>n[0].length-1)return!1;if(!r||r<=0)return!1;if(l){if(t+(r-1)>n.length-1)return!1;for(let l=0;l<r;l++)o.push(n[e][t+l])}if(!l){if(e+(r-1)>n[0].length-1)return!1;for(let l=0;l<r;l++)o.push(n[e+l][t])}return!!o.every((e=>!e))}(e,t,r.length,o))return!1;if(o){for(let l=0;l<r.length;l++)n[e][t+l]=`${r.name}-${l}`;return l.push(r),!0}if(!o){for(let l=0;l<r.length;l++)n[e+l][t]=`${r.name}-${l}`;return l.push(r),!0}},receiveAttack:function(e,t){if(e<0||e>n.length-1)throw new Error("Please provide a valid number to attack opponent ship");if(t<0||t>n.length-1)throw new Error("Please provide a valid number to attack opponent ship");if(void 0===n[e][t])return n[e][t]="MISS",!1;if("MISS"===n[e][t]||"HIT"===n[e][t])return!1;{const r=n[e][t],o=r.split("-")[0],i=+r.split("-")[1],c=l.find((e=>e.name==o));return!!c&&(c.hit(i),n[e][t]="HIT",!0)}},doesAllShipsHaveSunk:function(){return l.every((e=>e.isSunk()))}}}},69:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(593);t.default=function(e){let t={};function n(e){const l=(0,r.generateRandomNum)(e),o=(0,r.generateRandomNum)(e);return t[`${l}-${o}`]&&n(e),{row:l,col:o}}return{name:e,listAttack:t,attack:function(e,t,n){return n.receiveAttack(e,t)},randomAttack:function(e){const{row:r,col:l}=n(e.grid.length);return t[`${r}-${l}`]=!0,e.receiveAttack(r,l)}}}},321:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(593);t.default=function(e,t){if(!e||!e.trim().length)throw new Error("Name is required");if(!t||t<=0)throw new Error("Length is required and bigger than 0");return{name:e,length:t,body:(0,r.createArrayOfString)(t,e.toLocaleLowerCase()),hit:function(e){if(e<0||e>this.body.length-1)throw new Error(`Enter a position between 0 and ${this.body.length}`);return this.body[e]="HIT",!0},isSunk:function(){return this.body.every((e=>"HIT"===e))}}}},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BG_SHIP=t.SHIPS_NAME=t.NBR_SHIPS=t.NBR_ROW=t.CELL_PER_ROW=void 0,t.CELL_PER_ROW=10,t.NBR_ROW=10,t.NBR_SHIPS=5,t.SHIPS_NAME=["submarine","destroyer","cruiser","battleship","carrier"],t.BG_SHIP=["bg-green-300","bg-yellow-300","bg-pink-300","bg-purple-300","bg-red-300"]},607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(744);const l=r(n(765)),o=n(601),i=n(593),c=r(n(69)),u=r(n(997)),a=r(n(321)),s=document.querySelector(".player-one-name"),d=document.querySelector(".player-one-lives"),f=document.querySelector(".player-one-grid-container"),m=document.querySelector(".btn-rotate"),p=document.querySelector(".player-one-ships-container"),h=document.querySelector(".player-turn"),g=document.querySelector(".btn-start"),y=document.querySelector(".btn-reset"),S=document.querySelector(".player-two-name"),b=document.querySelector(".player-two-lives"),v=document.querySelector(".player-two-grid-container"),_=document.querySelector(".player-two-ships-container");let E,L,$,w=!0,P="",R=0;const O={};let A,C,x,q,N,k=[],H=[],I=!1,M="";function W(){return(x.doesAllShipsHaveSunk()||!!q.doesAllShipsHaveSunk())&&(N=A,!0)}function B(e){let t=0,n=0;for(let e=0;e<k.length;e++)k[e].isSunk()&&t++;for(let e=0;e<H.length;e++)H[e].isSunk()&&n++;null==d||(d.textContent=""+(5-t)),null==b||(b.textContent=""+(5-n))}function j(e,t,n,r){const l=n.grid[e][t];let o;r&&(o=document.querySelector(`#cell-${e}-${t}.grid-cell-me`)),r||(o=document.querySelector(`#cell-${e}-${t}.grid-cell-enemy`)),"HIT"===l&&(null==o||(o.textContent="ðŸ”¥")),"MISS"===l&&(null==o||(o.textContent="ðŸŒŠ"))}function T(e){const t=+e.target.id.split("-")[1],n=+e.target.id.split("-")[2];A.attack(t,n,q),j(t,n,q,!1),W()&&(I=!0),B(),M=C.name,G()}function G(){I&&alert(`${N.name} won!!`),M===A.name&&(null==h||(h.textContent=A.name),document.querySelectorAll(".grid-cell-enemy").forEach((e=>e.addEventListener("click",T)))),M===C.name&&(null==h||(h.textContent=C.name),function(){C.randomAttack(x);const e=Object.keys(C.listAttack);j(+e[e.length-1].split("-")[0],+e[e.length-1].split("-")[1],x,!0),W()&&(I=!0),B(),M=A.name,G()}())}function D(){0===(null==p?void 0:p.childNodes.length)?(null==h||(h.textContent=M),G()):alert("Please place all your ships.")}function F(){location.reload()}function U(e){const t=(0,i.generateRandomNum)(e),n=(0,i.generateRandomNum)(e);return O[`${t}-${n}`]&&U(e),{row:t,col:n}}function z(e){const{row:t,col:n}=U(o.CELL_PER_ROW),r=e.childNodes.length,l=e.classList[1].split("-")[0],c=0===(0,i.generateRandomNum)(2),u=[];if(c){for(let e=0;e<r;e++){const r=document.querySelector(`#cell-${t}-${n+e}.grid-cell-enemy`);u.push(r)}if(J(c,n,t,r,o.CELL_PER_ROW,u)){for(let e=0;e<r;e++)document.querySelector(`#cell-${t}-${n+e}.grid-cell-enemy`),O[`${t}-${n+e}`]=`${l}-${e}`;const o=H.find((e=>e.name===l));o&&q.placeShipOnGrid(t,n,o,c),null==_||_.removeChild(e)}else z(e)}if(!c){for(let e=0;e<r;e++){const r=document.querySelector(`#cell-${t+e}-${n}.grid-cell-enemy`);u.push(r)}if(J(c,n,t,r,o.CELL_PER_ROW,u)){for(let e=0;e<r;e++)document.querySelector(`#cell-${t+e}-${n}.grid-cell-enemy`),O[`${t+e}-${n}`]=`${l}-${e}`;const o=H.find((e=>e.name===l));o&&q.placeShipOnGrid(t,n,o,c),null==_||_.removeChild(e)}else z(e)}}function J(e,t,n,r,l,o){return!(o&&(o.some((e=>null===e))||o.some((e=>e.classList.contains("taken"))))||(e?t+(r-1)>l-1:n+(r-1)>l-1))}function K(e){e.preventDefault()}function Q(e){const t=+e.target.id.split("-")[1],n=+e.target.id.split("-")[2],r=[];if(w){for(let e=0;e<R;e++){const l=document.querySelector(`#cell-${t}-${n+e}.grid-cell-me`);r.push(l)}if(J(w,n,t,R,o.CELL_PER_ROW,r)){for(let e=0;e<R;e++){const r=document.querySelector(`#cell-${t}-${n+e}.grid-cell-me`);null==r||r.classList.remove("bg-blue-200","rounded-md","hover:bg-blue-400","hover:cursor-pointer"),null==r||r.classList.add(`${P}-${e}`,$.classList[7],"taken")}const e=k.find((e=>e.name===P));e&&x.placeShipOnGrid(t,n,e,w),null==p||p.removeChild($)}}if(!w){for(let e=0;e<R;e++){const l=document.querySelector(`#cell-${t+e}-${n}`);r.push(l)}if(J(w,n,t,R,o.CELL_PER_ROW,r)){for(let e=0;e<R;e++){const r=document.querySelector(`#cell-${t+e}-${n}`);null==r||r.classList.remove("bg-blue-200","rounded-md","hover:bg-blue-400","hover:cursor-pointer"),null==r||r.classList.add(`${P}-${e}`,$.classList[7],"taken")}const e=k.find((e=>e.name===P));e&&x.placeShipOnGrid(t,n,e,w),null==p||p.removeChild($)}}}function V(e){$=e.target,R=e.target.childNodes.length,P=e.target.classList[1].split("-")[0]}function X(){const e=document.querySelectorAll(".my-ship-container");w&&(null==p||p.classList.remove("flex-col","justify-between"),null==p||p.classList.add("flex-row","items-start","space-x-3"),e.forEach((e=>e.classList.add("flex-col")))),w||(null==p||p.classList.remove("flex-row","items-start","space-x-3"),null==p||p.classList.add("flex-col","justify-between"),e.forEach((e=>e.classList.remove("flex-col")))),w=!w}function Y(e,t,n){const r=function(e,t,n){const r=document.createElement("div");return r.classList.add("ship-container",`${e}-container`,n?"enemy-ship-container":"my-ship-container","flex","flex-row","rounded-md","max-w-min"),n||r.setAttribute("draggable","true"),r}(e,0,n);for(let l=0;l<t;l++){const t=Z(e,l,n);r.appendChild(t)}return r}function Z(e,t,n){const r=document.createElement("div");return r.id=`${e}-${t}`,r.classList.add("ship-cell",`ship-${e}-cell`,n?"enemy-ship-cell":"my-ship-cell","w-6","h-6","flex","flex-row","items-center","justify-center"),r}function ee(e,t,n){const r=document.createElement("grid");r.classList.add("gameboard","gameboard-grid",n?"gameboard-grid-enemy":"gameboard-grid-me","flex","flex-col","bg-indigo-700");for(let l=0;l<e;l++){const e=te(l,n);for(let r=0;r<t;r++){const t=ne(l,r,n);e.appendChild(t)}r.appendChild(e)}return r}function te(e,t){const n=document.createElement("div");return n.setAttribute("id",`row-${e}`),n.classList.add("grid-row",t?"grid-row-enemy":"grid-row-me","flex","flex-row"),n}function ne(e,t,n){const r=document.createElement("div");return r.setAttribute("id",`cell-${e}-${t}`),r.classList.add("grid-cell",n?"grid-cell-enemy":"grid-cell-me","w-6","h-6","bg-blue-200","rounded-md","hover:bg-blue-400","hover:cursor-pointer"),r}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector(".image-container>img");null==e||e.setAttribute("alt","Player versus Player"),null==e||e.setAttribute("src",l.default),null==e||e.classList.add("w-full","h-auto")}(),null==h||(h.textContent="Loading..."),A=(0,c.default)("Player One"),C=(0,c.default)("Player Two (CPU)"),null==s||(s.textContent=A.name),M=A.name,null==S||(S.textContent=C.name),x=(0,u.default)(o.NBR_ROW,o.CELL_PER_ROW),q=(0,u.default)(o.NBR_ROW,o.CELL_PER_ROW);for(let e=0;e<o.SHIPS_NAME.length;e++){const t=(0,a.default)(o.SHIPS_NAME[e],e+1);k.push(t)}for(let e=0;e<o.SHIPS_NAME.length;e++){const t=(0,a.default)(o.SHIPS_NAME[e],e+1);H.push(t)}E=ee(o.NBR_ROW,o.CELL_PER_ROW,!1),null==f||f.appendChild(E),L=ee(o.NBR_ROW,o.CELL_PER_ROW,!0),null==v||v.appendChild(L);for(let e=0;e<o.NBR_SHIPS;e++){const t=Y(o.SHIPS_NAME[e],e+1,!1);t.classList.add(o.BG_SHIP[e]),null==p||p.appendChild(t)}for(let e=0;e<o.NBR_SHIPS;e++){const t=Y(o.SHIPS_NAME[e],e+1,!0);t.classList.add(o.BG_SHIP[e]),null==_||_.appendChild(t)}null==m||m.addEventListener("click",X),null==g||g.addEventListener("click",D),null==y||y.addEventListener("click",F),document.querySelectorAll(".my-ship-container").forEach((e=>e.addEventListener("dragstart",V))),document.querySelectorAll(".grid-cell-me").forEach((e=>{e.addEventListener("drop",Q),e.addEventListener("dragover",K)})),document.querySelectorAll(".enemy-ship-container").forEach((e=>{setTimeout((()=>z(e)),1e3)}))}))},593:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNum=t.createArrayOfArray=t.createArrayOfString=void 0,t.createArrayOfString=function(e,t){if(!e||"number"!=typeof e)throw new Error("Length is required and must be a number");if(e<=0)throw new Error("Length must be bigger than 0");let n=[];for(let r=0;r<e;r++)t?n.push(`${t}-${r}`):n.push(void 0);return n},t.createArrayOfArray=(e=10,t=10,n)=>{let r=[];e<=0&&(e=10),t<=0&&(t=10);for(let l=0;l<e;l++){let e=[];for(let r=0;r<t;r++)e.push(n);r.push(e)}return r},t.generateRandomNum=function(e){return Math.floor(Math.random()*e)}},765:(e,t,n)=>{e.exports=n.p+"images/d32dc45e29b32b15df3d.png"}},t={};function n(r){var l=t[r];if(void 0!==l)return l.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(607)})();
//# sourceMappingURL=main.bundle.js.map